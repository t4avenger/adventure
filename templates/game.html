{{define "game.html"}}
  <div class="stats-update" data-strength="{{.State.Stats.Strength}}" data-luck="{{.State.Stats.Luck}}" data-health="{{.State.Stats.Health}}" style="display: none;"></div>

  {{if .Message}}<p class="msg">{{.Message}}</p>{{end}}

  {{if .LastRoll}}
    <p class="roll">Roll: <strong>{{.LastRoll}}</strong> ({{.LastOutcome}})</p>
  {{end}}

  <p class="text">{{.Node.Text}}</p>

  {{if .Node.Ending}}
    <p class="end">— The End —</p>
    <button class="btn"
      onclick="window.location.href='/start'">
      Restart
    </button>
  {{else}}
    <ul class="choices">
      {{range .Node.Choices}}
        <li>
          <button class="btn"
            hx-post="/play"
            hx-target="#game"
            hx-swap="innerHTML"
            hx-vals='{"choice":"{{.Key}}"}'>
            {{.Text}}
          </button>
        </li>
      {{end}}
    </ul>
  {{end}}
{{end}}
